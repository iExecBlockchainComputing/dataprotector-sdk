<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1569pt" height="1627pt"
 viewBox="0.00 0.00 1569.17 1627.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1623.2)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1623.2 1565.17,-1623.2 1565.17,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="64.94,-0.5 64.94,-730.1 1004.25,-730.1 1004.25,-0.5 64.94,-0.5"/>
<text text-anchor="middle" x="534.6" y="-713.5" font-family="Times,serif" font-size="14.00">DataProtectorSharing</text>
<text text-anchor="middle" x="534.6" y="-696.7" font-family="Times,serif" font-size="14.00">contracts/DataProtectorSharing.sol</text>
<polyline fill="none" stroke="black" points="64.94,-688.5 1004.25,-688.5 "/>
<text text-anchor="start" x="72.94" y="-671.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="72.94" y="-655.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_nextCollectionTokenId: uint256</text>
<text text-anchor="start" x="72.94" y="-638.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="72.94" y="-621.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_protectedDataRegistry: IRegistry</text>
<text text-anchor="start" x="72.94" y="-604.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="72.94" y="-587.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;appWhitelistRegistry: AppWhitelistRegistry</text>
<text text-anchor="start" x="72.94" y="-571.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;earning: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="72.94" y="-554.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;protectedDataDetails: mapping(address=&gt;ProtectedDataDetails)</text>
<text text-anchor="start" x="72.94" y="-537.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;collectionDetails: mapping(uint256=&gt;CollectionDetails)</text>
<text text-anchor="start" x="72.94" y="-520.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_appOrders: mapping(address=&gt;IexecLibOrders_v5.AppOrder)</text>
<polyline fill="none" stroke="black" points="64.94,-512.5 1004.25,-512.5 "/>
<text text-anchor="start" x="72.94" y="-495.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="72.94" y="-479.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkCollectionOperator(_collectionTokenId: uint256)</text>
<text text-anchor="start" x="72.94" y="-462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkCollectionNotSubscribed(_collectionTokenId: uint256)</text>
<text text-anchor="start" x="72.94" y="-445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataNotRented(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataNotForSale(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataForSale(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-395.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkConsumeProtectedData(_protectedData: address, _workerpoolOrder: IexecLibOrders_v5.WorkerpoolOrder): mode</text>
<text text-anchor="start" x="72.94" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_update(to: address, _collectionTokenId: uint256, auth: address): address</text>
<text text-anchor="start" x="72.94" y="-361.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="72.94" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;consumeProtectedData(_protectedData: address, _workerpoolOrder: IexecLibOrders_v5.WorkerpoolOrder, _contentPath: string, _app: address): (dealid: bytes32)</text>
<text text-anchor="start" x="72.94" y="-327.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="72.94" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_proxy: IExecPocoDelegate, protectedDataRegistry_: IRegistry, appWhitelistRegistry_: AppWhitelistRegistry)</text>
<text text-anchor="start" x="72.94" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize() &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="72.94" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
<text text-anchor="start" x="72.94" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getProtectedDataRenter(_protectedData: address, _renterAddress: address): uint48</text>
<text text-anchor="start" x="72.94" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getCollectionSubscriber(_collectionTokenId: uint256, _subscriberAddress: address): uint48</text>
<text text-anchor="start" x="72.94" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateEnv(iexec_result_storage_provider_: string, iexec_result_storage_proxy_: string) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="72.94" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createCollection(_to: address): uint256</text>
<text text-anchor="start" x="72.94" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addProtectedDataToCollection(_collectionTokenId: uint256, _protectedData: address, _appWhitelist: IAppWhitelist)</text>
<text text-anchor="start" x="72.94" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromCollection(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;subscribeToCollection(_collectionTokenId: uint256, _subscriptionParams: SubscriptionParams): (endDate: uint48)</text>
<text text-anchor="start" x="72.94" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToSubscription(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromSubscription(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSubscriptionParams(_collectionTokenId: uint256, _subscriptionParams: SubscriptionParams)</text>
<text text-anchor="start" x="72.94" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rentProtectedData(_protectedData: address, _rentingParams: RentingParams): (endDate: uint48)</text>
<text text-anchor="start" x="72.94" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToRenting(_protectedData: address, _rentingParams: RentingParams)</text>
<text text-anchor="start" x="72.94" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromRenting(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataForSale(_protectedData: address, _price: uint72)</text>
<text text-anchor="start" x="72.94" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataForSale(_protectedData: address)</text>
<text text-anchor="start" x="72.94" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;buyProtectedData(_protectedData: address, _to: address, _price: uint72)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-767.1 0,-1160.7 1069.2,-1160.7 1069.2,-767.1 0,-767.1"/>
<text text-anchor="middle" x="534.6" y="-1144.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="534.6" y="-1127.3" font-family="Times,serif" font-size="14.00">ManageOrders</text>
<text text-anchor="middle" x="534.6" y="-1110.5" font-family="Times,serif" font-size="14.00">contracts/ManageOrders.sol</text>
<polyline fill="none" stroke="black" points="0,-1102.3 1069.2,-1102.3 "/>
<text text-anchor="start" x="8" y="-1085.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-1068.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_salt: uint256</text>
<text text-anchor="start" x="8" y="-1052.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-1035.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_pocoDelegate: IExecPocoDelegate</text>
<text text-anchor="start" x="8" y="-1018.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TAG: bytes32</text>
<text text-anchor="start" x="8" y="-1001.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRUST: uint256</text>
<text text-anchor="start" x="8" y="-984.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_iexec_result_storage_provider: string</text>
<text text-anchor="start" x="8" y="-968.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_iexec_result_storage_proxy: string</text>
<polyline fill="none" stroke="black" points="0,-959.9 1069.2,-959.9 "/>
<text text-anchor="start" x="8" y="-943.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-926.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSalt(): bytes32</text>
<text text-anchor="start" x="8" y="-909.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;generateParams(_iexec_args: string): string</text>
<text text-anchor="start" x="8" y="-892.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_createAppOrder(_appAddress: address): IexecLibOrders_v5.AppOrder</text>
<text text-anchor="start" x="8" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_createPreSignAppOrder(_appAddress: address): (_appOrder: IexecLibOrders_v5.AppOrder)</text>
<text text-anchor="start" x="8" y="-842.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_createDatasetOrder(_protectedData: address, _appWhitelist: address): IexecLibOrders_v5.DatasetOrder</text>
<text text-anchor="start" x="8" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_createPreSignDatasetOrder(_protectedData: address, _appWhitelist: address): (_datasetOrder: IexecLibOrders_v5.DatasetOrder)</text>
<text text-anchor="start" x="8" y="-808.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_createPreSignRequestOrder(_protectedData: address, _appAddress: address, _workerpoolAddress: address, _category: uint256, _contentPath: string): IexecLibOrders_v5.RequestOrder</text>
<text text-anchor="start" x="8" y="-792.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-775.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(pocoDelegate_: IExecPocoDelegate)</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M534.6,-730.1C534.6,-732.35 534.6,-734.59 534.6,-736.83"/>
<polygon fill="none" stroke="black" points="524.1,-737.06 534.6,-767.06 545.1,-737.06 524.1,-737.06"/>
</g>
<!-- 18 -->
<g id="node3" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="black" points="674.99,-1281.3 674.99,-1339.7 898.21,-1339.7 898.21,-1281.3 674.99,-1281.3"/>
<text text-anchor="middle" x="786.6" y="-1323.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="786.6" y="-1306.3" font-family="Times,serif" font-size="14.00">IexecLibOrders_v5</text>
<text text-anchor="middle" x="786.6" y="-1289.5" font-family="Times,serif" font-size="14.00">contracts/libs/IexecLibOrders_v5.sol</text>
</g>
<!-- 0&#45;&gt;18 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;18</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1004.51,-658.6C1033.57,-691.75 1058.95,-727.75 1078.6,-766.6 1118.17,-844.85 1124.47,-1086.46 1078.6,-1161.2 1041.33,-1221.93 970.58,-1258.74 908.05,-1280.49"/>
<polygon fill="black" stroke="black" points="906.85,-1277.21 898.5,-1283.73 909.09,-1283.84 906.85,-1277.21"/>
</g>
<!-- 30 -->
<g id="node6" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="black" points="1126.03,-859.5 1126.03,-1068.3 1561.17,-1068.3 1561.17,-859.5 1126.03,-859.5"/>
<text text-anchor="middle" x="1343.6" y="-1051.7" font-family="Times,serif" font-size="14.00">AppWhitelistRegistry</text>
<text text-anchor="middle" x="1343.6" y="-1034.9" font-family="Times,serif" font-size="14.00">contracts/registry/AppWhitelistRegistry.sol</text>
<polyline fill="none" stroke="black" points="1126.03,-1026.7 1561.17,-1026.7 "/>
<text text-anchor="start" x="1134.03" y="-1010.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1134.03" y="-993.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_implementationAddress: AppWhitelist</text>
<polyline fill="none" stroke="black" points="1126.03,-985.1 1561.17,-985.1 "/>
<text text-anchor="start" x="1134.03" y="-968.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1134.03" y="-951.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_isAuthorized(owner: address, spender: address, tokenId: uint256): bool</text>
<text text-anchor="start" x="1134.03" y="-934.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1134.03" y="-918.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createAppWhitelist(owner: address): IAppWhitelist</text>
<text text-anchor="start" x="1134.03" y="-901.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1134.03" y="-884.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="1134.03" y="-867.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize() &lt;&lt;initializer&gt;&gt;</text>
</g>
<!-- 0&#45;&gt;30 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;30</title>
<path fill="none" stroke="black" d="M1004.57,-686.73C1041.09,-713.33 1077.14,-740.16 1111.6,-766.6 1146.82,-793.62 1183.95,-824.08 1217.93,-852.81"/>
<polygon fill="black" stroke="black" points="1215.69,-855.5 1225.58,-859.29 1220.22,-850.16 1215.69,-855.5"/>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M677.9,-1160.86C709.33,-1203.84 739.3,-1244.82 759.78,-1272.82"/>
<polygon fill="black" stroke="black" points="757.09,-1275.08 765.82,-1281.09 762.74,-1270.95 757.09,-1275.08"/>
</g>
<!-- 28 -->
<g id="node4" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="black" points="1143.33,-1460.3 1143.33,-1618.7 1543.87,-1618.7 1543.87,-1460.3 1143.33,-1460.3"/>
<text text-anchor="middle" x="1343.6" y="-1602.1" font-family="Times,serif" font-size="14.00">ERC734</text>
<text text-anchor="middle" x="1343.6" y="-1585.3" font-family="Times,serif" font-size="14.00">contracts/registry/AppWhitelist.sol</text>
<polyline fill="none" stroke="black" points="1143.33,-1577.1 1543.87,-1577.1 "/>
<text text-anchor="start" x="1151.33" y="-1560.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1151.33" y="-1543.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_store: mapping(bytes32=&gt;BitMaps.BitMap)</text>
<polyline fill="none" stroke="black" points="1143.33,-1535.5 1543.87,-1535.5 "/>
<text text-anchor="start" x="1151.33" y="-1518.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1151.33" y="-1502.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_setKeyHasPurpose(key: bytes32, purpose: uint256, enable: bool)</text>
<text text-anchor="start" x="1151.33" y="-1485.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1151.33" y="-1468.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;keyHasPurpose(key: bytes32, purpose: uint256): bool</text>
</g>
<!-- 29 -->
<g id="node5" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="black" points="1167.41,-1197.7 1167.41,-1423.3 1519.79,-1423.3 1519.79,-1197.7 1167.41,-1197.7"/>
<text text-anchor="middle" x="1343.6" y="-1406.7" font-family="Times,serif" font-size="14.00">AppWhitelist</text>
<text text-anchor="middle" x="1343.6" y="-1389.9" font-family="Times,serif" font-size="14.00">contracts/registry/AppWhitelist.sol</text>
<polyline fill="none" stroke="black" points="1167.41,-1381.7 1519.79,-1381.7 "/>
<text text-anchor="start" x="1175.41" y="-1365.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1175.41" y="-1348.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;GROUP_MEMBER_PURPOSE: uint256</text>
<text text-anchor="start" x="1175.41" y="-1331.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1175.41" y="-1314.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;registry: IERC721</text>
<polyline fill="none" stroke="black" points="1167.41,-1306.5 1519.79,-1306.5 "/>
<text text-anchor="start" x="1175.41" y="-1289.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1175.41" y="-1273.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyOwner()</text>
<text text-anchor="start" x="1175.41" y="-1256.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addApp(_app: address) &lt;&lt;onlyOwner&gt;&gt;</text>
<text text-anchor="start" x="1175.41" y="-1239.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isRegistered(_app: address): bool</text>
<text text-anchor="start" x="1175.41" y="-1222.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;owner(): address</text>
<text text-anchor="start" x="1175.41" y="-1205.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;transferOwnership(newOwner: address) &lt;&lt;onlyOwner&gt;&gt;</text>
</g>
<!-- 29&#45;&gt;28 -->
<g id="edge5" class="edge">
<title>29&#45;&gt;28</title>
<path fill="none" stroke="black" d="M1343.6,-1423.34C1343.6,-1425.57 1343.6,-1427.8 1343.6,-1430.03"/>
<polygon fill="none" stroke="black" points="1333.1,-1430.09 1343.6,-1460.09 1354.1,-1430.09 1333.1,-1430.09"/>
</g>
<!-- 30&#45;&gt;29 -->
<g id="edge6" class="edge">
<title>30&#45;&gt;29</title>
<path fill="none" stroke="black" d="M1343.6,-1068.76C1343.6,-1106.05 1343.6,-1148.45 1343.6,-1187.17"/>
<polygon fill="black" stroke="black" points="1340.1,-1187.45 1343.6,-1197.45 1347.1,-1187.45 1340.1,-1187.45"/>
</g>
</g>
</svg>
