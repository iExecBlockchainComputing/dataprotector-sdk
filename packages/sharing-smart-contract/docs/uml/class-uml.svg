<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="2069pt" height="1281pt"
 viewBox="0.00 0.00 2069.43 1281.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1277.4)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1277.4 2065.43,-1277.4 2065.43,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="39.28,-0.5 39.28,-780.5 978.59,-780.5 978.59,-0.5 39.28,-0.5"/>
<text text-anchor="middle" x="508.93" y="-763.9" font-family="Times,serif" font-size="14.00">DataProtectorSharing</text>
<text text-anchor="middle" x="508.93" y="-747.1" font-family="Times,serif" font-size="14.00">contracts/DataProtectorSharing.sol</text>
<polyline fill="none" stroke="black" points="39.28,-738.9 978.59,-738.9 "/>
<text text-anchor="start" x="47.28" y="-722.3" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="47.28" y="-705.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_nextCollectionTokenId: uint256</text>
<text text-anchor="start" x="47.28" y="-688.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="47.28" y="-671.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_protectedDataRegistry: IRegistry</text>
<text text-anchor="start" x="47.28" y="-655.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_appWhitelistRegistry: IAppWhitelistRegistry</text>
<text text-anchor="start" x="47.28" y="-638.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="47.28" y="-621.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;earning: mapping(address=&gt;uint256)</text>
<text text-anchor="start" x="47.28" y="-604.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;protectedDataDetails: mapping(address=&gt;ProtectedDataDetails)</text>
<text text-anchor="start" x="47.28" y="-587.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;collectionDetails: mapping(uint256=&gt;CollectionDetails)</text>
<text text-anchor="start" x="47.28" y="-571.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_appOrders: mapping(address=&gt;IexecLibOrders_v5.AppOrder)</text>
<polyline fill="none" stroke="black" points="39.28,-562.9 978.59,-562.9 "/>
<text text-anchor="start" x="47.28" y="-546.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="47.28" y="-529.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkCollectionOperator(_collectionTokenId: uint256)</text>
<text text-anchor="start" x="47.28" y="-512.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkCollectionNotSubscribed(_collectionTokenId: uint256)</text>
<text text-anchor="start" x="47.28" y="-495.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataNotRented(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-479.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataNotForSale(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-462.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkProtectedDataForSale(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-445.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_swapCollection(_collectionTokenIdFrom: uint256, _collectionTokenIdTo: uint256, _protectedData: address, _appWhitelist: AppWhitelist)</text>
<text text-anchor="start" x="47.28" y="-428.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_update(to: address, _collectionTokenId: uint256, auth: address): address</text>
<text text-anchor="start" x="47.28" y="-411.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_isValidAmountSent(_expectedAmount: uint256, _receivedAmount: uint256)</text>
<text text-anchor="start" x="47.28" y="-395.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="47.28" y="-378.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;consumeProtectedData(_protectedData: address, _workerpoolOrder: IexecLibOrders_v5.WorkerpoolOrder, _contentPath: string, _app: address): (dealid: bytes32)</text>
<text text-anchor="start" x="47.28" y="-361.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="47.28" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; subscribeTo(_collectionTokenId: uint256, _duration: uint48): (endDate: uint48)</text>
<text text-anchor="start" x="47.28" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; rentProtectedData(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-311.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; buyProtectedDataForCollection(_protectedData: address, _collectionTokenIdTo: uint256, _appWhitelist: AppWhitelist)</text>
<text text-anchor="start" x="47.28" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;payable&gt;&gt; buyProtectedData(_protectedData: address, _to: address)</text>
<text text-anchor="start" x="47.28" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(_proxy: IExecPocoDelegate, protectedDataRegistry_: IRegistry, appWhitelistRegistry_: IAppWhitelistRegistry)</text>
<text text-anchor="start" x="47.28" y="-260.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(defaultAdmin: address) &lt;&lt;initializer&gt;&gt;</text>
<text text-anchor="start" x="47.28" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
<text text-anchor="start" x="47.28" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;withdraw()</text>
<text text-anchor="start" x="47.28" y="-210.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getProtectedDataRenter(_protectedData: address, _renterAddress: address): uint48</text>
<text text-anchor="start" x="47.28" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getCollectionSubscriber(_collectionTokenId: uint256, _subscriberAddress: address): uint48</text>
<text text-anchor="start" x="47.28" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;updateEnv(iexec_result_storage_provider_: string, iexec_result_storage_proxy_: string) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="47.28" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createCollection(_to: address): uint256</text>
<text text-anchor="start" x="47.28" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addProtectedDataToCollection(_collectionTokenId: uint256, _protectedData: address, _appWhitelist: IAppWhitelist)</text>
<text text-anchor="start" x="47.28" y="-126.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromCollection(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToSubscription(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromSubscription(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setSubscriptionParams(_collectionTokenId: uint256, _subscriptionParams: SubscriptionParams)</text>
<text text-anchor="start" x="47.28" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataToRenting(_protectedData: address, _price: uint112, _duration: uint48)</text>
<text text-anchor="start" x="47.28" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataFromRenting(_protectedData: address)</text>
<text text-anchor="start" x="47.28" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setProtectedDataForSale(_protectedData: address, _price: uint112)</text>
<text text-anchor="start" x="47.28" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeProtectedDataForSale(_protectedData: address)</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-817.5 0,-1177.5 1017.86,-1177.5 1017.86,-817.5 0,-817.5"/>
<text text-anchor="middle" x="508.93" y="-1160.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="508.93" y="-1144.1" font-family="Times,serif" font-size="14.00">ManageOrders</text>
<text text-anchor="middle" x="508.93" y="-1127.3" font-family="Times,serif" font-size="14.00">contracts/ManageOrders.sol</text>
<polyline fill="none" stroke="black" points="0,-1119.1 1017.86,-1119.1 "/>
<text text-anchor="start" x="8" y="-1102.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-1085.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_salt: uint256</text>
<text text-anchor="start" x="8" y="-1068.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-1052.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_pocoDelegate: IExecPocoDelegate</text>
<text text-anchor="start" x="8" y="-1035.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;TAG: bytes32</text>
<text text-anchor="start" x="8" y="-1018.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TRUST: uint256</text>
<text text-anchor="start" x="8" y="-1001.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_iexec_result_storage_provider: string</text>
<text text-anchor="start" x="8" y="-984.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_iexec_result_storage_proxy: string</text>
<polyline fill="none" stroke="black" points="0,-976.7 1017.86,-976.7 "/>
<text text-anchor="start" x="8" y="-960.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="8" y="-943.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getSalt(): bytes32</text>
<text text-anchor="start" x="8" y="-926.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;generateParams(_iexec_args: string): string</text>
<text text-anchor="start" x="8" y="-909.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-892.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createAppOrder(_appAddress: address): IexecLibOrders_v5.AppOrder</text>
<text text-anchor="start" x="8" y="-876.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createDatasetOrder(_protectedData: address): IexecLibOrders_v5.DatasetOrder</text>
<text text-anchor="start" x="8" y="-859.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createRequestOrder(_protectedData: address, _appAddress: address, _workerpoolAddress: address, _category: uint256, _contentPath: string): IexecLibOrders_v5.RequestOrder</text>
<text text-anchor="start" x="8" y="-842.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-825.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(pocoDelegate_: IExecPocoDelegate)</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="black" d="M508.93,-780.64C508.93,-782.89 508.93,-785.13 508.93,-787.36"/>
<polygon fill="none" stroke="black" points="498.43,-787.4 508.93,-817.4 519.43,-787.4 498.43,-787.4"/>
</g>
<!-- 17 -->
<g id="node3" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="black" points="665.32,-1214.5 665.32,-1272.9 888.54,-1272.9 888.54,-1214.5 665.32,-1214.5"/>
<text text-anchor="middle" x="776.93" y="-1256.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="776.93" y="-1239.5" font-family="Times,serif" font-size="14.00">IexecLibOrders_v5</text>
<text text-anchor="middle" x="776.93" y="-1222.7" font-family="Times,serif" font-size="14.00">contracts/libs/IexecLibOrders_v5.sol</text>
</g>
<!-- 0&#45;&gt;17 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M978.96,-773.84C1007.47,-797.96 1025.49,-813.94 1026.93,-817 1095.5,-962.06 1125.15,-1051.13 1026.93,-1178 1010.36,-1199.4 953.8,-1215.01 898.66,-1225.53"/>
<polygon fill="black" stroke="black" points="897.95,-1222.1 888.76,-1227.37 899.23,-1228.98 897.95,-1222.1"/>
</g>
<!-- 1&#45;&gt;17 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M705.46,-1177.58C717.5,-1188.55 728.68,-1198.73 738.44,-1207.63"/>
<polygon fill="black" stroke="black" points="736.21,-1210.33 745.96,-1214.48 740.92,-1205.16 736.21,-1210.33"/>
</g>
<!-- 27 -->
<g id="node4" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="black" points="997.04,-294.5 997.04,-486.5 1602.82,-486.5 1602.82,-294.5 997.04,-294.5"/>
<text text-anchor="middle" x="1299.93" y="-469.9" font-family="Times,serif" font-size="14.00">AppWhitelist</text>
<text text-anchor="middle" x="1299.93" y="-453.1" font-family="Times,serif" font-size="14.00">contracts/registry/AppWhitelist.sol</text>
<polyline fill="none" stroke="black" points="997.04,-444.9 1602.82,-444.9 "/>
<text text-anchor="start" x="1005.04" y="-428.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1005.04" y="-411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_protectedDataSharing: IProtectedDataSharing</text>
<text text-anchor="start" x="1005.04" y="-394.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_appRegistry: IRegistry</text>
<text text-anchor="start" x="1005.04" y="-377.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1005.04" y="-361.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;appWhitelisted: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="black" points="997.04,-352.9 1602.82,-352.9 "/>
<text text-anchor="start" x="1005.04" y="-336.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1005.04" y="-319.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(protectedDataSharing_: IProtectedDataSharing, appRegistry_: IRegistry, _owner: address)</text>
<text text-anchor="start" x="1005.04" y="-302.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addApp(_app: address) &lt;&lt;onlyOwner&gt;&gt;</text>
</g>
<!-- 28 -->
<g id="node5" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="black" points="1620.44,-269.3 1620.44,-511.7 2061.43,-511.7 2061.43,-269.3 1620.44,-269.3"/>
<text text-anchor="middle" x="1840.93" y="-495.1" font-family="Times,serif" font-size="14.00">AppWhitelistRegistry</text>
<text text-anchor="middle" x="1840.93" y="-478.3" font-family="Times,serif" font-size="14.00">contracts/registry/AppWhitelistRegistry.sol</text>
<polyline fill="none" stroke="black" points="1620.44,-470.1 2061.43,-470.1 "/>
<text text-anchor="start" x="1628.44" y="-453.5" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="1628.44" y="-436.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;_registeredAppWhitelistSet: EnumerableSet.AddressSet</text>
<text text-anchor="start" x="1628.44" y="-419.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1628.44" y="-403.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_appRegistry: IRegistry</text>
<text text-anchor="start" x="1628.44" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_protectedDataSharing: IProtectedDataSharing</text>
<polyline fill="none" stroke="black" points="1620.44,-378.1 2061.43,-378.1 "/>
<text text-anchor="start" x="1628.44" y="-361.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1628.44" y="-344.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isRegistered(_appWhitelist: IAppWhitelist): bool</text>
<text text-anchor="start" x="1628.44" y="-327.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;createAppWhitelist(owner: address): IAppWhitelist</text>
<text text-anchor="start" x="1628.44" y="-311.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1628.44" y="-294.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(appRegistry_: IRegistry)</text>
<text text-anchor="start" x="1628.44" y="-277.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;initialize(protectedDataSharing_: IProtectedDataSharing) &lt;&lt;initializer&gt;&gt;</text>
</g>
</g>
</svg>
